import{h as u,_,u as p,c as g,a as h,b as i,o as r,d as t,n as b,t as n,r as f,F as w,e as v,f as x}from"./index-x6nNtJ2l.js";import{a as y}from"./cartService-DZzogGRM.js";const $=()=>u.get("/v1/api/items").catch(a=>a.response),S={class:"card shadow-sm"},I=["aria-label"],P={class:"card-body"},N={class:"card-text"},k={class:"me-2"},C={class:"discount badge bg-danger"},B={class:"d-flex justify-content-between align-items-center"},L={class:"price text-muted"},D={class:"real text-danger"},F={__name:"Card",props:{item:{id:Number,imgPath:String,name:String,price:Number,discountPer:Number}},setup(a){const o=p(),s=a,e=g(()=>(s.item.price-s.item.price*s.item.discountPer/100).toLocaleString()+"원"),c=h(),l=async()=>{if(!o.loggedIn){window.confirm("로그인이 필요합니다 로그인 페이지로 이동하시겠습니까?")&&await c.push("/login");return}(await y(s.item.id)).status===200&&window.confirm("장바구니에 추가되었습니다. 장바구니로 이동하시겠습니까?")&&await c.push("/cart")};return(m,d)=>(r(),i("div",S,[t("span",{class:"img",style:b({backgroundImage:`url(${s.item.imgPath})`}),"aria-label":`상품 사진(${s.item.name})`},null,12,I),t("div",P,[t("p",N,[t("span",k,n(s.item.name),1),t("span",C,n(s.item.discountPer)+"%",1)]),t("div",B,[t("button",{class:"btn btn-primary btn-sm",onClick:d[0]||(d[0]=E=>l())},"장바구니 담기"),t("small",L,n(s.item.price.toLocaleString())+"원",1),t("small",D,n(e.value),1)])])]))}},R=_(F,[["__scopeId","data-v-baa97c80"]]),V={class:"home"},j={class:"album py-5 bg-light"},q={class:"container"},z={class:"row row-cols-1 row-cols-lg-2 row-cols-xl-3 g-3"},A={class:"col"},J={__name:"Home",setup(a){const o=f({items:[]});return async function(){const e=await $();e.status===200&&(console.log(e.data),o.items=e.data)}(),(s,e)=>(r(),i("div",V,[t("div",j,[t("div",q,[t("div",z,[(r(!0),i(w,null,v(o.items,c=>(r(),i("div",A,[x(R,{item:c},null,8,["item"])]))),256))])])])]))}};export{J as default};
